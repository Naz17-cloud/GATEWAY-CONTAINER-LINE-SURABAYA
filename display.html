<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Display QR Code</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      font-family: 'Georgia', serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('background.jpg') no-repeat center center fixed;
      background-size: cover;
      color: white;
      text-align: center;
      position: relative;
    }

    /* Animasi fade-in untuk Welcome */
    .welcome {
      font-size: 48px;
      font-weight: bold;
      color: #FFD700;
      margin-top: 40px;
      opacity: 0;
      animation: fadeIn 3s ease forwards;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    .title {
      font-size: 38px;
      font-style: italic;
      color: #58caed;
      margin-top: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
    }

    .company {
      font-size: 44px;
      color: #98c732;
      margin-top: 60px;
      font-weight: bold;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.8);
    }

    .table-box {
      margin-top: 20px;
      padding: 40px;
      border: 5px solid gold;
      border-radius: 20px;
      background: rgba(0,0,0,0.6);
      box-shadow: 0 0 15px rgba(255,215,0,0.7);
      min-width: 280px;
    }

    .table-text {
      font-size: 28px;
      margin-bottom: 10px;
      color: white;
    }

    .table-number {
      font-size: 90px;
      font-weight: bold;
      color: #FFD700;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.7);
    }

    .watermark {
      position: absolute;
      bottom: 20px;
      font-size: 20px;
      color: white;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <div class="welcome">
    SELAMAT DATANG DI CUSTOMER GATHERING <br>
    GATEWAY CONTAINER LINE SURABAYA 2025
  </div>

  <div class="title">
    "Navigating The Turbulence, Cruising The Opportunities"
  </div>

  <div class="company" id="company">Nama Perusahaan</div>

  <div class="table-box">
    <div class="table-text">Nomor Meja</div>
    <div class="table-number" id="table-number">--</div>
  </div>

  <div class="watermark">Tim Bjir</div>

  <script>
    // Mode 1: ambil langsung dari URL (jika akses via link dengan parameter)
    function getQueryParams() {
      const urlParams = new URLSearchParams(window.location.search);
      return {
        company: urlParams.get("company") || "Nama Perusahaan",
        table: urlParams.get("table") || "--"
      };
    }

    function updateDisplay(params) {
      document.getElementById("company").textContent = params.company;
      document.getElementById("table-number").textContent = params.table;
    }

    // Mode 2: jika QR scanner input text (simulate keyboard input)
    document.addEventListener("DOMContentLoaded", () => {
      let buffer = "";
      document.addEventListener("keydown", e => {
        if (e.key === "Enter") {
          processScan(buffer.trim());
          buffer = "";
        } else {
          buffer += e.key;
        }
      });

      // default load dari URL param
      updateDisplay(getQueryParams());
    });

    function processScan(data) {
      try {
        const urlParams = new URLSearchParams(data.split("?")[1]);
        const company = urlParams.get("company") || "TIDAK DIKENAL";
        const table = urlParams.get("table") || "--";

        updateDisplay({ company: company.toUpperCase(), table });
      } catch (err) {
        console.error("Scan gagal:", err);
      }
    }
  </script>
</body>
</html>
